<div data-controller="flatpickr" data-flatpickr-price="<%= @portfolio.price_per_day %>">
  <%= simple_form_for [@portfolio, @booking], data: { turbo: false } do |f| %>
    <%= f.error_notification %>

    <div class="form-group">
      <%= f.input :start_date, as: :string, input_html: {
        data: { flatpickr_target: 'startDateInput' },
        class: 'form-control flatpickr-input',
        value: @booking.start_date&.strftime("%Y-%m-%d")
      } %>
    </div>

    <div class="form-group">
      <%= f.input :end_date, as: :string, input_html: {
        data: { flatpickr_target: 'endDateInput' },
        class: 'form-control flatpickr-input',
        value: @booking.end_date&.strftime("%Y-%m-%d")
      } %>
    </div>

    <div class="form-group">
      <p>Prix total: <span data-flatpickr-target="priceHolder"></span></p>
      <%= f.hidden_field :total_price, data: { flatpickr_target: "totalPriceInput" } %>
    </div>

    <%= f.submit "Envoyer la demande", class: 'btn btn-primary' %>
  <% end %>
</div>
