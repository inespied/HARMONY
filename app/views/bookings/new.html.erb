<h1>Nouvelle réservation</h1>

<div data-controller="dynamic-booking-price" data-dynamic-booking-price-price-value="<%= @portfolio.price_per_day %>">
<%= simple_form_for [@portfolio, @booking], data: { turbo: false } do |f| %>
  <%= f.input :start_date, as: :string, input_html: {
    data: {
      flatpickr_target: 'startDateInput',
      action: 'change->dynamic-booking-price#updatePrice'
    }
  } %>

  <%= f.input :end_date, as: :string, input_html: {
    data: {
      flatpickr_target: 'endDateInput',
      action: 'change->dynamic-booking-price#updatePrice'
    }
  } %>
<p>
    Prix total: <span data-dynamic-booking-price-target="priceHolder"><%= @portfolio.price_per_day %></span> €
  </p>
  <%= f.submit "Envoyer la demande", class: 'btn btn-primary' %>
<% end %>


<%= link_to "Retour", portfolio_path(@portfolio), class: "btn btn-secondary" %>

</div>
